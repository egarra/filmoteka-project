!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o,u,i=a("bpxeT"),c=a("2TvXO"),l=a("k7R8L"),s=a("5JgHg"),d=a("bSQtk"),p=a("1VFfL");s=a("5JgHg"),l=a("k7R8L");function f(t,n,r){o=t.page,u=t.total_pages;var a=5;window.screen.width>=768&&(a=9);var i=document.getElementById("tui-pagination-container"),c={totalItems:u,itemsPerPage:20,visiblePages:a,page:o,centerAlign:!0,template:{page:'<a href="#" class="page-btn">{{page}}</a>',currentPage:'<a href="#" class="page-btn is-selected">{{page}}</a>',moveButton:'<a href="#" class="page-btn page-{{type}}"></a>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip" id="point-{{type}}"><span class="tui-ico-ellip">...</span></a>'}},d=new(e(p))(i,c);document.querySelector(".page-last").textContent=Math.round(u/20),d.on("afterMove",(function(e){var t=e.page;("TRENDING"===n?(0,s.fetchData)("TRENDING",{page:t}).then((function(e){(0,l.onRenderGallery)(e.data.results)})):"SEARCH_MOVIES"===n&&(0,s.fetchData)("SEARCH_MOVIES",{page:t,query:r}).then((function(e){(0,l.onRenderGallery)(e.data.results)})),e.page>1)&&(document.querySelector(".page-first").textContent="1")}))}var g,h=(g=e(i)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.querySelector(".film-selection").innerHTML=d.loading,e.next=4,(0,s.fetchData)(s.TRENDING,{page:1});case 4:r=e.sent,(0,l.onRenderGallery)(r.data.results),f(r.data,"TRENDING");case 7:case"end":return e.stop()}}),t)}))),function(e){return g.apply(this,arguments)}),m=document.querySelector(".header__form");document.querySelector(".header-logo__link").addEventListener("click",(function(){h(),m.reset()})),document.querySelector("[data-home]").addEventListener("click",(function(){h(),m.reset()})),h();i=a("bpxeT"),c=a("2TvXO"),l=a("k7R8L"),s=a("5JgHg"),d=a("bSQtk");!function(){var t,n=document.querySelector(".header__form"),r=document.querySelector(".header-error__text");function a(){return(a=e(i)(e(c).mark((function n(a){var o,u,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r.textContent="",o=a.currentTarget.searchQuery,t!==o.value){e.next=5;break}return e.abrupt("return");case 5:return u=document.querySelector(".film-selection"),t=o.value,e.next=9,(0,s.fetchData)(s.SEARCH_MOVIES,{page:1,query:t});case 9:if(0!==(i=e.sent).data.results.length){e.next=13;break}return r.textContent="There is no films with such name. Please, try again.",e.abrupt("return");case 13:u.innerHTML=d.loading,(0,l.onRenderGallery)(i.data.results),f(i.data,"SEARCH_MOVIES",t);case 16:case"end":return e.stop()}}),n)})))).apply(this,arguments)}n.addEventListener("submit",(function(e){return a.apply(this,arguments)}))}(),a("aaIwG"),a("hWhII"),a("5mYgn"),a("5iNTY"),a("8Kbga")}();
//# sourceMappingURL=index.a53aded2.js.map
